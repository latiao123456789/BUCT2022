# 三团需求规格说明书

[TOC]



## 1.导言

### 1.1目的

本文旨在说明掌上博物馆子模块的功能需求和非功能需求。  
本文预期阅读对象是：  

+ 项目的开发人员  
+ 测试人员  
+ 维护人员  
+ 用户

### 1.2参考资料

#### 1.2.1知识图谱构建子系统

（1）CIDOC-CRM 参考文档：https://cidoc-crm.org/html/cidoc_crm_v7.1.1_with_translations.html#E1 

（2）建模工具 Karma：https://github.com/usc-isi-i2/Web-Karma 

（3）Virtuoso 数据库，用来管理三元组 https://github.com/openlink/virtuoso-opensource

#### 1.2.2海外文物知识服务子系统

（1）查询： 克利夫兰博物馆：搜索界面包括简单搜索和高级搜索 https://www.clevelandart.org/art/collection/search  

（2）时间轴： 时间轴工具：https://timeline.knightlab.com/  全历史时间轴：https://www.allhistory.com/  

（3）知识图谱可视化： 全历史关系图谱： https://www.allhistory.com/relation?networkId=5cf8e3ecefe5550001f1435c  

（4）关系图谱： 历史人文大数据平台： https://dhc.library.sh.cn/relation?uri=http%3A%2F%2Fdata.library.sh.cn%2Fentity%2 Fperson%2F4lnpsgh342b2n1ru  

（5）关系图谱可视化工程参考 https://emiliorizzo.github.io/vue-d3-network/

#### 1.2.3掌上博物馆

（1）第一行代码.pdf

（2）华为HMS生态应用开发与实战.pdf

## 2.系统概述

### 2.1系统应用背景分析

本系统分为四个组成部分，分别是知识图谱构建子系统、海外文物知识服务子系统、掌上博物馆子系统、后台管理子系统。

### 2.2系统要达到的目标

#### 2.2.1.知识图谱构建子系统

1）数据爬取： 爬取海外博物馆网站的中国文物信息，包括文物名字、文物图片、年 代、介绍等信息。

2）数据建模：将爬取的数据转化为符合 CIDOC-CRM 的三元组形式。

3）数据补充：根据需要从互联网爬取数据，对现有数据进行补充。 4）数据存储：将根据步骤 2 中建模好的数据（如 ttl，n3 格式文件等）三元 组数据保存到 Virtuoso 或 Neo4j 图数据库中。

#### 2.2.2.海外文物知识服务子系统

1）数据浏览：支持多种形式展示的浏览功能。①提供基本的筛选、排序功 能，可按照文物类型、文物年代、博物馆等多种基础信息进行索引、筛选、排序 方式浏览文物信息。②提供查看文物详情功能，显示文物的详 细数据，如文本、图像等信息，点击文物图片，可以进行放大缩小。

2）数据查询：支持文物的关键字查询功能。

3）数据可视化显示：将构建的文物知识图谱可视化，以从不同角度等可视 化效果，展示文物知识。

4）用户个人信息管理：用户可以注册登录该系统，设置用户名密码等个人 信息。

#### 2.2.3.掌上博物馆子系统

1）文物浏览：显示文物的基本信息、图片，播放讲解；可以进行按照关键字搜索的简单搜索。 

2）用户交互：用户可以对单个文物点赞、留言评论等功能、用户可以为单个文物上传自己拍摄的相关照片。 

3）以图搜图：可以上传图片或直接拍摄一个照片，根据上传图片特征搜索 相关文物。 

4）用户个人信息管理：用户可以注册登录该系统，设置用户名密码等个人 信息。用户信息可以和海外文物知识服务子系统共用或单独使用一套用户系统。

#### 2.2.4.后台管理子系统

1）用户管理：管理后台管理子系统用户、掌上博物馆用户、知识服务子系统 用户的基础信息。 

2）信息审核：审核用户发表的留言、图片、音视频等内容的功能。对于审核 不通过的内容会被屏蔽，同时对该用户进行一定程度惩罚，如禁止发评论等。

 3）数据管理：管理 1-3 中涉及的所有数据，对所有数据可以进行增删改查等 操作，支持单个操作和批量操作。 

4）数据备份和恢复：支持数据库的备份和恢复。实现手动备份恢复或定时备 份功能。支持查看所有的备份和恢复记录，显示记录时间等相关功能。可通过点 击备份记录来将数据库恢复到该备份记录点上。 

## 3.运行环境

#### 3.1知识图谱构建子系统

服务器：腾讯云CentOs CPU2核 内存4GB 系统盘80GB IP地址：101.43.141.226

数据库：mysql、neo4j

建模工具：Karma

爬虫开发平台：Python

#### 3.2海外文物知识服务子系统

前端vue，后端spring

#### 3.3掌上博物馆：

​	开发环境：Android Studio Bumblebee|2021.1.1 Patch 2

​	系统硬件要求： 安卓6.0及以上

#### 3.4后台管理子系统

开发环境：css、php、html、js

## 4.角色定义

### 4.1掌上博物馆：

使用者

使用者是指在APP使用本系统查询文物相关信息，使用本系统提供的功能的人员。

管理者

管理者是指在管理端执行上传、更新、修正信息，以及对本系统进行维护升级等相关功能的人员。

### 4.2海外知识文物服务子系统：

使用者

使用者是通过浏览网页系统查询文物相关信息，使用本系统提供的功能的人员。

管理者

管理者是指在管理端执行上传、更新、修正信息，以及对本系统进行维护升级等相关功能的人员。

## 5.功能规格

### 5.1掌上博物馆：

#### 5.1.1用例：用户对文物进行点赞评价

主要参与者：用户

情景目标：对某样文物进行点赞评论

前提条件：需要登入，、联网

启动：用户对某个文物进行点赞评论

场景：

1. 打开软件进入登陆界面

2. 登录

3. 用户选择某样文物

4. 进入文物详细界面

5. 用户点赞

6. 用户进行点赞

7. 用户进入评论区

8. 用户写下评论

9. 点击上传评论

10. 评论上传成功

异常：

1. 评论内容不合法，检测用户评论，不合法内容替换为*。

2. 服务器无响应

使用频率：每天多次

使用方式：app

次要参与者：系统后台

次要参与者参与方式：显示点赞状态，保存并展示评论

 

#### 5.1.2用例：用户按关键字搜索文物的基本信息

主要参与者：用户

情景目标：通过搜索功能搜索到相应的文物信息

前提条件：需要联网

启动：用户打开掌上博物馆的搜索栏

场景：

1. 用户进入APP

2. 在主界面点击搜索框

3. 输入有关文物的信息

4. 等待系统响应

5. 点击文物查看信息

异常：

1. 系统未响应

2. 未找到与信息相关的文物

使用频率：每天多次

使用方式：掌上博物馆app

次要参与者：系统后台

次要参与者参与方式：检索与关键字相关的文物并展示

 

 

#### 5.1.3用例：根据上传图片搜索相关文物

主要参与者：用户

场景：1.用户进行登录

2.打开侧边栏

3.点击以图搜图

4.用户给予软件存储权限

5.读取图片

6.根据图片匹配文物，打开存储文物信息的新页面。

7.用户拖动屏幕，找到要搜索的文物点击进入文物信息页面。

异常：1.用户没有给予读取存储权限。解决方法:提示错误，返回上一个界面。

2.用户没有选择要读取的图片。解决方法：用户可以点击返回返回上一个页面。

 

#### 5.1.4用例：用户修改个人信息：

主要参与者：用户。

场景：1.用户进行登录

2.打开侧边栏

3.点击头像

4.点击编辑资料

5.编辑资料

6.点击保存

7.返回主界面

异常：1.用户点击编辑资料每点击保存。此时不保存用户编辑的资料。

2.用户没有头像，头像为默认头像。

3.用户编辑资料信息非法。解决方案：对用户填写的信息进行审核与合法检测。如果填入不宜显示的信息将转化为*号。

 

#### 5.1.5用例：用户注册

主要参与者：用户

场景：1.进入未登录时的主界面

2.点击注册

3.填写相关信息

4.点击注册完成注册

5.返回登陆页面

异常：1.注册信息不合法则注册不通过。

次要参与者：系统管理员

参与方式：审核注册信息

 

#### 5.1.6用例：用户登录

主要参与者：用户

场景：1.进入未登录时的主页面

2.填写账号密码

3.点击登录进行登录

异常：1.填写未注册的账号，登陆失败。

2.填写错误的密码，登陆失败。

###  5.2海外知识服务子系统

#### 5.2.1功能总结：

1. 浏览文物信息

2. 查询文物信息

3. 用户登录

4. 用户注册

 

 

 

#### 5.2.2用例：浏览文物信息

主参与者：用户

情境目标：用户能成功浏览文物信息

前提条件：用户正确输入网址打开Web端程序

场景：

1. 用户打开Web程序网站。

 

2. 用户打开Web界面后，可以看到该程序的名称和一些文物信息，文物信息以缩略图形式出现。用户有三种查看方式，一种是以缩略图形式查看简单的文物信息，一种是通过点击进入查看详细的文物信息，最后一种是查看文物知识图谱。

3. 用户希望查看详细信息，可以点击目标文物进入下一层界面。

4. 用户进入文物信息详细查看的界面后，除了当前选择的文物外，还可以选择查看网站推荐的同一年代、同一博物馆的文物。

 

5. 用户在详细查看信息的界面可以通过点击博物馆名称，直接进入该博物馆主页。

 

6. 用户如果不需要查看更详细的信息或选择查看简单的文物信息，可以通过点击选择根据时间顺序、文物类型顺序、所属博物馆顺序来显示主页出现的文物信息。

7. 用户可以在网站主页上直接查看到文物信息知识图谱。

次要参与者：数据提供方

次要参与者的连接渠道：

数据库：数据提供方提供数据信息，信息储存在sql数据库中。

 

 

#### 5.2.3用例：查询文物信息

主参与者：用户

情境目标：用户成功查询目标文物信息

前提条件：用户打开Web端程序使用搜索功能

场景：

1.用户打开Web程序网站。

2.用户在网站主页点击搜索输入框。

3.用户可以输入文物精确名称、文物名称中的一部分，所属博物馆名称、文物年代、文物类型。

4.用户输入完成，点击搜索。

5.用户可以查看到一条或多条结果。

异常处理：

搜索的文物信息没有收录——新页面弹出未能搜索到的提示。

次要参与者：数据提供方

次要参与者的连接渠道：

数据库：数据提供方提供数据信息，信息储存在sql数据库中。

 

 

#### 5.2.4用例：用户登录

主参与者：用户

情境目标：用户登录账号，实现更多功能

前提条件：用户打开Web端程序

场景：

1. 用户打开Web程序网站。

2. 用户点击登录，进入登录页。

3. 用户输入账号密码。

4. 用户输入完成后，点击登录。

5. 用户回到网站页面，此时属于登录状态。

6. 用户处于登录状态，可以进行评论，收藏和查看历史浏览记录功能。

7. 用户可以进入个人中心，修改除账号外的个人信息。

异常处理：

账号或密码不正确——前两次不正确出现错误提示，第三次错误直接返回网站页面。

用户忘记密码——可以通过验证密保问题重新设置密码。

用户没有账号——使用注册功能。

 

#### 5.2.5用例：用户注册

主参与者：用户

情境目标：用户注册新账号

前提条件：用户打开登录界面，点击使用注册功能

场景：

1. 用户打开Web程序网站。

2. 用户点击登录，进入登录界面。

3. 用户点击注册。

4. 用户输入用户名及密码。

5. 用户设置密保问题答案。

6. 用户输入完成后，点击提交。

7. 系统为用户发放账号。

8. 用户注册成功，自动跳转回登录界面。

异常处理：

两次输入的密码不相同——弹出错误提示，无法注册。

### 5.3后台管理子系统

#### 5.3.1需求分析

需求是对用户期望的软件行为的表述。
在本项目中，从用户角度看，主要存在以下需求：
​1．注册登录：用户通过已注册账号密码登录
​2．用户信息管理：用户和管理员可以修改或删除自己个人信息，管理员可以对用户进行权限的管理。
​3．讲解审核功能：用户可提出讲解申请，系统和管理员根据用户个人信息判断是否有讲解资格。
​4．密码修改功能：用户和管理员可以登录后修改密码。
​5．数据管理功能：可以查阅和修改文物信息。

#### 5.3.2数据建模

本次项目包含用户信息类，管理员信息类，文物数据类
​用户信息类包括：用户ID，用户名，密码，个人信息，权限等。
​管理员信息类包括：管理员ID，用户名，密码等。
​文物类包括：文物名称，文物入馆时间，文物历史，文物背景等。

## 6性能需求

### 6.1响应时间需求

程序相应的事件应该在五秒以内。且不能长时间的没有响应。如果遇到长时间不能提供响应

### 6.2可靠性需求

系统应该7*24小时都能提供服务，允许多人同时在客户端登陆，系统正常运行，且能正确显示相关内容。

### 6.3系统安全性需求

系统要有严格的权限管理，防止用户的非法操作对系统造成破坏或者获取相关数据信息。